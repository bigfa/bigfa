<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hugo on Untitled</title><link>https://bigfa.github.io/categories/hugo/</link><description>Recent content in Hugo on Untitled</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Wed, 15 May 2024 17:41:48 +0800</lastBuildDate><atom:link href="https://bigfa.github.io/categories/hugo/index.xml" rel="self" type="application/rss+xml"/><item><title>Hugo 主题 Farallon</title><link>https://bigfa.github.io/story/hugo-theme-farallon/</link><pubDate>Mon, 30 Oct 2023 21:07:22 +0800</pubDate><guid>https://bigfa.github.io/story/hugo-theme-farallon/</guid><description>Hugo 主题 Farallon 本主题使用古法制作，不依赖三方框架。
Hugo 当前版本 0.3.1，最后更新日期 2023/11/10
演示地址 使用指南 站点参数设置 以下参数都在[Params]下
description 类型: 字符串 站点描述
mainSections 类型：数组 默认值：['story'] 多语言设置 设置配置文件中DefaultContentLanguage参数来选择语音，默认是en，翻译文件在i18n 目录下，支持以下类型，
en 英文 zh-cn 简体中文 例如想试用简体中文，则设置DefaultContentLanguage为zh-cn
状态文章格式 content 目录下创建一个memo文件夹，里面就是正常的文章 md 文件
hugo new content memo/1.md 站点参数配置
[Params] mainSections = [&amp;#39;story&amp;#39;,&amp;#39;memo&amp;#39;] 如果你想用其他别名也可以，memo换为你想用的就可以了。
卡片分类页面使用方法 在content目录下新建你想要使用模版的页面，比如你的分类是travel，则新建categories/travel/_index.md,然后编辑文件，设置layout为travel 即可
--- title: &amp;#34;旅行&amp;#34; description: &amp;#34;旅行体验&amp;#34; layout: travel --- 作者信息 站点配置参数
[Params] showAuthor = true authorName = &amp;#39;bigfa&amp;#39; authorDescription = &amp;#39;computer loser&amp;#39; authorAvatar = &amp;#39;https://secure.gravatar.com/avatar/2fd7e2e17a671f8e3fade0706e0a667e?s=128&amp;amp;d=mm&amp;amp;r=g&amp;#39; 搜索 推荐使用algolia，个人小站免费额度够用了。</description></item><item><title>使用 Cloudflare Worker 获取豆瓣书影音记录</title><link>https://bigfa.github.io/story/douban-cf-worker/</link><pubDate>Wed, 15 May 2024 17:41:48 +0800</pubDate><guid>https://bigfa.github.io/story/douban-cf-worker/</guid><description>本功能直接解决豆瓣书影音记录两大痛点，自动同步和封面本地化，对于普通用户来说，Cloudflare 的免费版足够了，非常推荐使用。
项目地址 之前我自己用 nodejs + mysql 写了一个同步豆瓣书影音的服务，但只在一个很隐蔽的地方公开了，主要是流量和数据库压力太大，提供公共服务成本实在是太高，最近在研究 Cloudflare Worker，试着把服务迁移过去，过程中发现几个问题。
D1 单次请求操作次数是有限制的，最多一千次，读写都算。 Worker 子请求数最多就是 50 次，下载图片是占用这个次数的，初始化的时候如果下载图片基本都会超限失败。 Worker 直接读取 R2 输出图片的话速度很慢。 不过多次测试之后还是找到了使用方法，虽然免费版有各种限制，但限制的都是单次请求，初始化的时候数据比较多，只需要在本地分页之后调用初始化接口就行了，后续使用定时任务同步不会因为请求过多而超限，除非在短时间内标记了大量内容。
电影
星际迷航4 0.0 2028 / 美国 / 动作 科幻 惊悚 冒险 / 克里斯·派恩 扎克瑞·昆图 音乐
图书
为了简化数据库使用单表、所以电影不再支持类型了。新的单条目引用不会在标记列表中展示，后续如果该条目被标记则会自动更新，取消标记不会被同步。
自动同步使用了 Cloudflare 的 cron 触发器，实测还是比较好用的。同步时间可以根据自己的需求设置，默认配置是每 30 分钟同步一次。
crons = [&amp;#34;*/30 * * * *&amp;#34;] 如果未进行初始化直接进行同步，可能会因为 D1 操作次数过多报错而无法同步老数据，这时需要清空数据重新初始化，建议 worker 部署后第一时间初始化。
配置文件 Worker 配置文件 wrangler.toml
[vars] DOMAIN = &amp;#34;https://bigfa.github.io&amp;#34; // 跨域域名 DBID = 54529369 // 你的豆瓣ID R2DOMAIN = &amp;#34;https://db.</description></item><item><title>Hugo 使用 Cloudflare Worker 实现文章浏览计数与点赞</title><link>https://bigfa.github.io/story/hugo-cf-worker/</link><pubDate>Mon, 13 May 2024 15:31:20 +0800</pubDate><guid>https://bigfa.github.io/story/hugo-cf-worker/</guid><description>一直以来我对静态博客都没什么兴趣，主要原因是静态博客都是 MD 文件转网页，各种平台都是大同小异，只展示博文还好，如果实现一些其他计数功能，如点赞评论啥的都要额外部署服务，这样还不如直接用动态博客了。如果有研究过我的 hugo 主题会发现我的数据存储都是使用 Markdown 文章文件的，也算原汁原味的静态博客。
引入外部服务理论上啥功能都能实现，但那其实和静态博客已经没啥关系了。前阵子 Google domains 停止服务，我就把域名转到了 Cloudflare，顺便研究了一下自带的功能，发现用 Cloudflare 的免费方案搭建一个简单的数据统计服务是没啥成本的，于是就有了本文。
Cloudflare 免费方案的额度对普通用户来说完全够用，如果不够用付费就好了，毕竟大流量也很容易变现。 Cloudflare Worker 的域名无法直接访问，需要自己绑定域名。 前端调用需要解决跨域问题。 静态博客没有文章 id 的概念，需要设置一个 key，hugo 有个文件路径的 md5 可以作为 UniqueId。 项目地址 直接 git clone 或者 use template.
需要手动修改 wrangler.toml 设置跨域域名和绑定d1数据库。
[vars] DOMAIN = &amp;#34;https://bigfa.github.io&amp;#34; 这个域名是你要跨域的域名，可以设置为*，这样就没有任何限制了。
[[d1_databases]] binding = &amp;#34;DB&amp;#34; database_name = &amp;#34;hugo-cf-d1&amp;#34; database_id = &amp;#34;81e23e8a-3b26-4025-acf8-1123bfd5af74&amp;#34; database_name 和 database_id 是你需要修改的，可在 Cloudflare 后台看到。
本地开发 Cloudflare 的命令行工具是 wrangler，需要 nodejs 环境。wrangler 使用过程中如果没登陆授权会弹出网页授权，授权即可。
进入项目目录，安装依赖。
npm install 创建数据库，如果已经在后台创建则无需执行这一步。</description></item><item><title>Hugo 主题 Notability</title><link>https://bigfa.github.io/story/hugo-theme-notability/</link><pubDate>Mon, 30 Oct 2023 22:27:17 +0800</pubDate><guid>https://bigfa.github.io/story/hugo-theme-notability/</guid><description>抽时间复活了一下这个远古主题，十分简洁。
最新版本0.3.0，最后更新时间2023/11/20.
首页截图 文章页截图 本主题使用古法制作，不依赖三方框架。
演示地址 项目地址 使用指南 站点参数设置 以下参数都在[Params]下
description 类型: 字符串 站点描述
mainSections 类型：数组 默认值：['story'] 多语言设置 设置配置文件中DefaultContentLanguage参数来选择语音，默认是en，翻译文件在i18n 目录下，支持以下类型，
en 英文 zh-cn 简体中文 例如想试用简体中文，则设置DefaultContentLanguage为zh-cn
状态文章格式 content 目录下创建一个memo文件夹，里面就是正常的文章 md 文件
hugo new content memo/1.md 站点参数配置
[Params] mainSections = [&amp;#39;story&amp;#39;,&amp;#39;memo&amp;#39;] 如果你想用其他别名也可以，memo换为你想用的就可以了。
作者信息 站点配置参数
[Params] showAuthor = true authorName = &amp;#39;bigfa&amp;#39; authorDescription = &amp;#39;computer loser&amp;#39; authorAvatar = &amp;#39;https://secure.gravatar.com/avatar/2fd7e2e17a671f8e3fade0706e0a667e?s=128&amp;amp;d=mm&amp;amp;r=g&amp;#39; 内链卡片 短代码
~{~{&amp;lt;link &amp;#34;garden-pavilion&amp;#34;&amp;gt;~}~} 自行取掉多余字符
榕阁 Garden Pavilion榕阁 周末和领导去吃了一顿柏悦的榕阁，之前看到大众点评上人均消费要七八百一直望而却步，这次趁着住店就体验了一把。先直接说 … 国内用户特别设置 物品列表使用方法 在content目录下新建gears/_index.md，按照下面的格式设置faves字段即可
--- title: &amp;#34;Gears&amp;#34; subtitle: &amp;#34;my fuji gears&amp;#34; date: 2021-03-06T15:39:00-06:00 draft: false faves: [ { &amp;#34;title&amp;#34;: &amp;#34;instax mini 40™&amp;#34;, &amp;#34;cover&amp;#34;: &amp;#34;https://static.</description></item></channel></rss>